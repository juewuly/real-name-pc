<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div>test page</div>
  <div id='test-lobby' style="position: relative; width: 900px; height: 400px; border-width: 1px; border-color: red; border-style: solid;"></div>
  <% for (var jsIndex in htmlWebpackPlugin.files.js) { %>
    <script type="text/javascript" src="<%=htmlWebpackPlugin.files.js[jsIndex] %>"></script>
  <% } %>

  <script>
    const Features = RealNamePc.Features;
    const SdkInstance = RealNamePc.Instance({ feature: Features.lobbyMini, containerId: 'test-lobby' });
    // const SdkInstance = RealNamePc.Instance();
    // SdkInstance.showEight();

    function config() {
      SdkInstance.config({
        appkey: '',
        qid: '3211038786',
        platform: 'h5_game',
        idcard_check_type: 'pay_before',
        onCloseRealName: () => console.log('触发关闭实名事件'),
        onSubmitSuccess: () => console.log('触发实名认证成功事件11'),
        onSubmitError: () => console.log('触发实名认证失败事件')
      });
    }

    function showRealName(canClose) {
      SdkInstance.showRealName({ canClose: canClose });
    }

    // 配置相关参数
    // config();

    // SdkInstance.showEight();
    // SdkInstance.showNonage({ canClose: true });

    // SdkInstance.showEight({ onClickOk: () => console.log('click ok')});
    // SdkInstance.showSixteen();
    // SdkInstance.showSixteenCharge({ onClickOk: () => console.log('click ok') });
    // SdkInstance.showEighteen();
    SdkInstance.showEighteenCharge({ onClickOk: () => console.log('click ok') });

    SdkInstance.checkCharge({
      gkey: 'dsws',
      exts: 'eyJhbW91bnQiOjYsInNpZ24iOiJiM2MyNjc0N2EyNzJjNWY4MDJhMmRkMDdjMjc4MGYxOSIsIml0ZW1faWQiOiJwY3dlaWR1YW5wcm9kdWN0NiIsInNlcnZlcl9pZCI6MjIxfQ'
    })
    .then(res => console.log('res:', res))
    .catch(err => console.error('接口异常', err));

    // SdkInstance.fetchRealName()
    // .then(res => {
    //   console.log('res...', res);
    //   const { auth_type, status } = res;

    //   // 已开启实名
    //   if (auth_type !== '0' && status === '0') {
    //     showRealName(true);
    //   }
    // })
    // .catch(err => console.error('获取实名信息异常', err));

    // SdkInstance.checkAmount({
    //   amount: 30,
    //   gkey: 'rxhjh5'
    // })
    // .then(res => {
    //   console.log('res...checkAmount', res);
    //   const { checkResult, handler } = res;
    //   console.log('handler...', handler);
    //   handler.exec();
    // })
    // .catch(err => console.error('请求checkAmount接口异常', err));

    // SdkInstance.test()

  </script>
</body>
</html>